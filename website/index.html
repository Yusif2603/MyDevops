<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yusif's Control Panel</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background: linear-gradient(135deg, #00ff99 0%, #cc00cc 100%); height: 100vh; margin: 0; display: flex; align-items: center; justify-content: center; color: #333; }
        .card { background: white; padding: 40px; border-radius: 20px; box-shadow: 0 15px 35px rgba(0,0,0,0.2); width: 100%; max-width: 400px; text-align: center; }
        h1 { margin-bottom: 10px; color: #1a202c; }
        p { color: #718096; margin-bottom: 25px; }
        input { width: 100%; padding: 12px; margin-bottom: 20px; border: 2px solid #e2e8f0; border-radius: 10px; font-size: 16px; outline: none; box-sizing: border-box; transition: border-color 0.3s; }
        input:focus { border-color: #667eea; }
        button { width: 100%; padding: 12px; background: #667eea; color: white; border: none; border-radius: 10px; font-size: 16px; font-weight: 600; cursor: pointer; transition: transform 0.2s, background 0.3s; }
        button:hover { background: #5a67d8; transform: translateY(-2px); }
        button:active { transform: translateY(0); }
        #status { margin-top: 20px; font-weight: 600; min-height: 24px; }
    </style>
</head>
<body>
<div class="card">
        <h1>–ü–∞–Ω–µ–ª—å –Æ—Å–∏—Ñ–∞ ü¶æ</h1>
        <p>–û—Ç–ø—Ä–∞–≤—å –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä—è–º–æ –≤ Telegram</p>
        
        <input type="text" id="userName" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è...">
        
        <button onclick="sendNotice()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –±–æ—Ç—É</button>

        <button id="timeButton" onclick="getServerTime()" style="background: #48bb78; margin-top: 10px;">
            –£–∑–Ω–∞—Ç—å –≤—Ä–µ–º—è
        </button>

        <p id="timeDisplay" style="margin-top: 15px; color: #2d3748; font-weight: bold;"></p>

        <div id="status"></div>
    </div>

   <script>
        // –ü–µ—Ä–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è - –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏–º–µ–Ω–∏
        async function sendNotice() {
            const nameInput = document.getElementById('userName');
            const status = document.getElementById('status');
            const name = nameInput.value.trim() || '–ê–Ω–æ–Ω–∏–º';

            status.innerText = "‚è≥ –û—Ç–ø—Ä–∞–≤–∫–∞...";
            status.style.color = "#718096";

            try {
                const response = await fetch('https://aishamylove.duckdns.org/api/web-notice', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ name: name })
                });

                if (response.ok) {
                    status.innerText = "‚úÖ –£–ª–µ—Ç–µ–ª–æ –≤ Telegram!";
                    status.style.color = "#48bb78";
                    nameInput.value = "";
                } else {
                    status.innerText = "‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞";
                    status.style.color = "#f56565";
                }
            } catch (error) {
                status.innerText = "‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏";
                status.style.color = "#f56565";
            }
        }

// –í—Ç–æ—Ä–∞—è —Ñ—É–Ω–∫—Ü–∏—è - –¥–ª—è –≤—Ä–µ–º–µ–Ω–∏ (–û–¢–î–ï–õ–¨–ù–û!)
        async function getServerTime() {
            const timeDisplay = document.getElementById('timeDisplay');
            // –£–±–∏—Ä–∞–µ–º —Ç–µ–∫—Å—Ç "–ó–∞–ø—Ä–∞—à–∏–≤–∞—é...", —á—Ç–æ–±—ã –æ–Ω –Ω–µ –º–µ–ª—å–∫–∞–ª –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
            
            try {
                const response = await fetch('https://aishamylove.duckdns.org/api/time');
                const data = await response.json();
                
                timeDisplay.innerText = "üïí –í—Ä–µ–º—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ: " + data.time;
                timeDisplay.style.color = "#2d3748";
            } catch (error) {
                timeDisplay.innerText = "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –≤—Ä–µ–º—è";
                timeDisplay.style.color = "#f56565";
            }

            // –í–û–¢ –û–ù–ê! –≠—Ç–∞ —Å—Ç—Ä–æ–∫–∞ –∑–∞—Å—Ç–∞–≤–∏—Ç —Ñ—É–Ω–∫—Ü–∏—é –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è —Å–Ω–æ–≤–∞ —á–µ—Ä–µ–∑ 1000 –º—Å (1 —Å–µ–∫)
            setTimeout(getServerTime, 1000);
        }
        }
    </script>
</body>
</html>
